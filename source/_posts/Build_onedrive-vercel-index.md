---
title: æ­å»º onedrive-vercel-index
date: 2022-01-08 13:00:00
<!-- cover: https://pic.rmb.bdstatic.com/bjh/04be3c471b1b64391a4624f02ca43ce6.png -->
cover: https://picbed-sigma.vercel.app/Build_onedrive-vercel-index/cover.png
tags:
- OneDrive
categories:
- å†™BUGæ—¥å¸¸
- æ•™ç¨‹
---
æŠŠ OneDrive å½“æˆç½‘ç›˜/å›¾åºŠ
<!--more-->

ä¾ç¨€è®°å¾—å¾ˆé•¿æ—¶é—´ä»¥å‰ï¼Œå½“æ—¶ OneIndex è¿˜ç‰¹åˆ«ç«ï¼Œç½‘ä¸Šæœ‰ä¸å°‘æ•™ç¨‹æ•™å¦‚ä½•é…åˆå¾®è½¯ Office 355 æ•™è‚²è´¦å·æˆ–è€…æ˜¯å¼€å‘è€…è´¦å·æ¥å«– OneDrive çš„å‚¨å­˜çš„ã€‚è®°å¾—å½“æ—¶è¿™ç§æ•™ç¨‹éåœ°å¼€èŠ±ï¼Œå„ç§ Fork åŸä½œè€…çš„é¡¹ç›®ä¹Ÿæ˜¯ç³ç…æ»¡ç›®ã€‚

ä½†æ˜¯å½“æˆ‘æƒ³å…¥å‘æ—¶ï¼ŒåŸä½œè€…å·²ç»åˆ åº“è·‘è·¯ï¼Œå¹¶ä¸”ä¸€æ®µæ—¶é—´ä»¥åï¼Œå¾®è½¯å¼€å§‹é‡ç‚¹æ‰“å‹ OneIndexï¼Œä½¿å¾— OneIndex ç°åœ¨æœ¬èº«ä¸å¤ªå¥½ç”¨ã€‚è€Œä¸”æœ¬èº« OneIndex æ˜¯ç”¨ PHP å†™çš„ï¼Œéœ€è¦æœåŠ¡å™¨ã€‚æ‰€ä»¥å®ƒä¸å¯èƒ½è¢«æˆ‘é•¿æœŸæ¥å—ï¼Œå› ä¸ºæˆ‘æ²¡æœ‰ä¸€å°æœåŠ¡å™¨~~ï¼ˆç©·å¾—å¾ˆï¼‰~~ã€‚

åæ¥åœ¨çœ‹åˆ«äººçš„åšå®¢çš„æ—¶å€™å°±å‘ç°äº†è¿™ä¸ªé¡¹ç›®ã€‚å…¶å®ä½œè€… [spencerwooo](https://github.com/spencerwooo) ä¸€å¼€å§‹æ˜¯æœ‰ä¸€ä¸ªæŒ‚åœ¨ CloudFlare Pages çš„ç‰ˆæœ¬çš„ã€‚æˆ‘ä¸€å¼€å§‹ä¹Ÿæƒ³åšé‚£ç§ï¼Œä½†åæ¥ä½œè€…åˆå¼€å‘äº†æ›´åŠ ç®€æ´çš„ [onedrive-vercel-index](https://github.com/spencerwooo/onedrive-vercel-index/)ï¼Œå¹¶ä¸”éƒ¨ç½²èµ·æ¥ç›¸å½“æ–¹ä¾¿ï¼Œç†è®ºä¸Šèƒ½æœ‰ä¸€ä¸ªæµè§ˆå™¨å°±å¯ä»¥ã€‚

æœ€è¿‘åšå®¢éƒ½å¼€å§‹ç”¨æ‰‹æœºå¼€æœºå†™ä½œï¼Œæ‰€ä»¥åšå®¢çš„å›¾ç‰‡ä¸Šä¼ å˜å¾—å¾ˆéš¾ï¼Œæ‰€ä»¥æ‰¾åˆ°ä¸€ä¸ªæ–¹ä¾¿çš„å›¾åºŠå°±å¾ˆé‡è¦ï¼ŒOneDrive æœ¬èº«åŠ è½½å°±ä¸é”™ï¼Œé…åˆä¸Š onedrive-vercel-index å°±å¯ä»¥å‡‘æ´»ç€ä½¿ç”¨ã€‚

## å‡†å¤‡å·¥ä½œ

- ä¸€å°èƒ½ä¸Šç½‘çš„è®¡ç®—æœºï¼ˆæˆ–æ‰‹æœºï¼‰
- ä¸€ä¸ª GitHub è´¦å·
- ä¸€ä¸ªçµæ´»çš„è„‘å­

## åœ¨ Vercel ä¸Šéƒ¨ç½²

æ‰“å¼€ onedrive-vercel-index çš„[é¡¹ç›®åœ°å€](https://github.com/spencerwooo/onedrive-vercel-index/)å¹¶ [Fork](https://github.com/spencerwooo/onedrive-vercel-index/fork) åˆ°è‡ªå·±çš„è´¦å·ä¸­ã€‚

ä¿®æ”¹ä½  Fork çš„ä»“åº“ä¸­çš„ config/site.json æ–‡ä»¶ï¼Œå¹¶æŒ‰ç…§è‡ªå·±çš„éœ€è¦è¿›è¡Œä¿®æ”¹ã€‚

``` json è¿™æ˜¯æˆ‘çš„é…ç½®
{
  "icon": "/icons/128.png", //ç«™ç‚¹å›¾æ ‡
  "title": "Nofated's OneDrive", //ç«™ç‚¹æ ‡é¢˜
  "baseDirectory": "/", //ç«™ç‚¹æ ¹ç›®å½•
  "maxItems": 100,
  "googleFontSans": "Inter",
  "googleFontMono": "Fira Mono",
  "googleFontLinks": [
    "https://fonts.loli.net/css2?family=Fira+Mono&family=Inter:wght@400;500;700&display=swap"
  ],
  "footer": "Powered by <a href=\"https://github.com/spencerwooo/onedrive-vercel-index\" target=\"_blank\" rel=\"noopener noreferrer\">onedrive-vercel-index</a>", //é¡µè„šä¿¡æ¯
  "protectedRoutes": [
    "/ğŸŒ Private folder/u-need-a-password",
    "/ğŸ¥Ÿ Some test files/Protected route"
  ],
  "email": "mailto:nofated095@outlook.com", //é‚®ç®±
  "links": [
    {
      "name": "GitHub",
      "link": "https://github.com/Nofated095"
    },
    {
      "name": "Telegram",
      "link": "https://t.me/Nofated"
    } //å³ä¸Šè§’é“¾æ¥
  ]
}
```

ç„¶åï¼Œæ‰“å¼€ [Vercel å®˜ç½‘](https://vercel.com)å¹¶æ³¨å†Œï¼ˆå»ºè®®ç›´æ¥ GitHub ç™»å½•ï¼‰ã€‚ç„¶åç‚¹ `New Project`ï¼Œç„¶å Import ä½ åˆšåˆš Fork çš„ä»“åº“ã€‚ç„¶åç‚¹å‡» Deployï¼Œä»“åº“å°±ä¼šè‡ªåŠ¨å¼€å§‹éƒ¨ç½²ï¼Œä¸€ä¸¤åˆ†é’Ÿä»¥åå°±å¥½äº†ã€‚

## æ³¨å†Œ Redis æ•°æ®åº“

å¦‚æœä½ åœ¨åˆšåˆš Vercel éƒ¨ç½²å®Œæˆåç›´æ¥è¿›å…¥ç½‘ç«™ï¼Œå¤§æ¦‚ç‡ä¼šçœ‹åˆ° 404 çš„æç¤ºã€‚

æ‰“å¼€ Marketplace ä¸­çš„ [Upstash](https://vercel.com/integrations/upstash)ï¼Œç‚¹å‡» `Add Integration`ï¼Œç„¶åé€‰ä¸­ä½ çš„è´¦æˆ·ï¼Œå†é€‰ä¸­ä½ éƒ¨ç½²çš„ä»“åº“ã€‚ç­‰å¾… Upstash åˆ›å»º Redis æ•°æ®åº“ã€‚

å®Œæˆåˆ›å»ºåï¼Œåœ¨é¡¹ç›®çš„ `Deployments` ä¸­å°†é¡¹ç›® `Redeploy`ã€‚é‡æ–°éƒ¨ç½²å®Œæˆåï¼Œå³å¯è®¿é—®éƒ¨ç½²å¥½çš„ç½‘ç«™ã€‚

## é“¾æ¥ OneDrive è´¦å·

æ‰“å¼€ç½‘ç«™åï¼Œä½ ä¼šçœ‹åˆ°é…ç½®é¡µé¢ï¼Œåªè¦è·Ÿç€å¼•å¯¼æ¥ç™»å½• OneDrive è´¦å·ï¼Œå¹¶å‚¨å­˜è´¦æˆ·æ•°æ®å³å¯ã€‚å°±æ˜¯åœ¨ç™»å½• OneDrive è´¦å·æ—¶ï¼Œæœ€åä¼šè¢«å¼•å¯¼åˆ°ä¸€ä¸ªé”™è¯¯é¡µé¢ï¼ŒåŸŸåä¸º localhostï¼Œå°†åœ°å€æ ä¸­çš„åœ°å€å¤åˆ¶å¹¶ç²˜è´´åˆ° onedrive-vercel-index ä¸­çš„å¯¹åº”åœ°æ–¹å³å¯ã€‚
